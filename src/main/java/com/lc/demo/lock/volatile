


1.可见性
volatile 是保证变量对所有线程的可见性的

2.volatile 怎么保证可见性的？
--它会控制修饰的变量，在内存操作上，主动把值刷新到主内存，JMM 会把该线程对应的 CPU 内存设置过期，从主内存中读取最新值
--防止指令重拍，来保证重排序时不能把内存屏障后面的指令重排序到内存屏障之前的位
--另外 volatile 并不能解决原子性，如果需要解决原子性问题，需要使用 synchronzied 或者 lock